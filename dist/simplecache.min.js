F2.extend("SimpleCache",function(){"use strict";var e=function(){this.id="SimpleCache",this.items={},this.statistics={},this.statistics.itemCount=0,this.statistics.hits=0,this.statistics.misses=0};e.prototype._setItem=function(e,t,r){if(e===null||e==="")throw new Error("Cache key must have a value");return n.items[e]||n.statistics.itemCount++,n.items[e]=t,r&&n._queueEvict(e,r),t},e.prototype._getItem=function(e){if(e===null||e==="")throw new Error("Cache key must have a value");var t=n.items[e];return t===null||t===undefined?(n.statistics.misses++,null):(n.statistics.hits++,t)},e.prototype._removeItem=function(e){if(e===null||e==="")throw new Error("Cache key must have a value");var t=n.items[e];if(t!==null||t!==undefined)n.statistics.itemCount--,delete n.items[e]},e.prototype._queueEvict=function(e,t){setTimeout(function(){n._removeItem(e)},t)},e.prototype._flush=function(){n.statistics.itemCount=0,n.statistics.hits=0,n.statistics.misses=0,n.items={}},e.prototype._persistLocal=function(){var e=!1;return F2.Storage?(F2.Storage.setItem(n.id,n),e=!0):F2.log(r.noF2Storage),e},e.prototype._flushLocal=function(){var e=!1;return F2.Storage?(F2.Storage.removeItem(n.id),e=!0):F2.log(r.noF2Storage),e},e.prototype._hydrateLocal=function(){var e=!1;if(F2.Storage){var t=F2.Storage.getItem(n.id);t!==null&&(n.items=t.items,n.statistics=t.statistics,e=!0)}else F2.log(r.noF2Storage);return e};var t=function(){this.noF2Storage="The F2.Storage plugin is required for this action."},n=n||new e,r=r||new t;return{getStatistics:function(){return n.statistics},setItem:function(e,t,r){return n._setItem(e,t,r)},getItem:function(e){return n._getItem(e)},removeItem:function(e){n._removeItem(e)},flush:function(){n._flush()},persistLocal:function(){return n._persistLocal()},flushLocal:function(){return n._flushLocal()},hydrateLocal:function(){return n._hydrateLocal()}}}());